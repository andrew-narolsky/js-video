{"version":3,"sources":["script.js"],"names":["FindVideos","_this","this","init","i","$videos","document","querySelectorAll","hasOwnProperty","setupVideo","$video","$link","querySelector","$media","$button","id","parseMediaURL","addEventListener","$iframe","createIframe","remove","appendChild","removeAttribute","classList","add","src","match","createElement","setAttribute","generateURL"],"mappings":"aAAA,IAAMA,WAAa,WAAW,IAAAC,EAAAC,KAE1BA,KAAKC,KAAO,WACR,IACSC,EADLC,EAAUC,SAASC,iBAAiB,oBACxC,IAASH,KAAKC,EACNA,EAAQG,eAAeJ,IACvBH,EAAKQ,WAAWJ,EAAQD,KAKpCF,KAAKO,WAAa,SAACC,GACf,IAAIC,EAAQD,EAAOE,cAAc,gBAC7BC,EAASH,EAAOE,cAAc,iBAC9BE,EAAUJ,EAAOE,cAAc,kBAC/BG,EAAKd,EAAKe,cAAcH,GAC5BH,EAAOO,iBAAiB,QAAS,WAC7B,IAAIC,EAAUjB,EAAKkB,aAAaJ,GAChCJ,EAAMS,SACNN,EAAQM,SACRV,EAAOW,YAAYH,KAEvBP,EAAMW,gBAAgB,QACtBZ,EAAOa,UAAUC,IAAI,mBAGzBtB,KAAKc,cAAgB,SAACH,GAIlB,OAFUA,EAAOY,IACDC,MAFH,sEAGA,IAGjBxB,KAAKiB,aAAe,SAACJ,GACjB,IAAIG,EAAUZ,SAASqB,cAAc,UAKrC,OAJAT,EAAQU,aAAa,kBAAmB,IACxCV,EAAQU,aAAa,QAAS,YAC9BV,EAAQU,aAAa,MAAO3B,EAAK4B,YAAYd,IAC7CG,EAAQK,UAAUC,IAAI,gBACfN,GAGXhB,KAAK2B,YAAc,SAACd,GAEhB,MAAO,iCAAmCA,EAD9B","file":"script.min.js","sourcesContent":["const FindVideos = function() {\n\n    this.init = () => {\n        let $videos = document.querySelectorAll('.view-block-wrap');\n        for (let i in $videos) {\n            if ($videos.hasOwnProperty(i)) {\n                this.setupVideo($videos[i]);\n            }\n        }\n    }\n\n    this.setupVideo = ($video) => {\n        let $link = $video.querySelector('.video__link');\n        let $media = $video.querySelector('.video__media');\n        let $button = $video.querySelector('.video__button');\n        let id = this.parseMediaURL($media);\n        $video.addEventListener('click', () => {\n            let $iframe = this.createIframe(id);\n            $link.remove();\n            $button.remove();\n            $video.appendChild($iframe);\n        });\n        $link.removeAttribute('href');\n        $video.classList.add('video--enabled');\n    }\n\n    this.parseMediaURL = ($media) => {\n        let regexp = /https:\\/\\/i\\.ytimg\\.com\\/vi\\/([a-zA-Z0-9_-]+)\\/maxresdefault\\.jpg/i;\n        let url = $media.src;\n        let match = url.match(regexp);\n        return match[1];\n    }\n\n    this.createIframe = (id) => {\n        let $iframe = document.createElement('iframe');\n        $iframe.setAttribute('allowfullscreen', '');\n        $iframe.setAttribute('allow', 'autoplay');\n        $iframe.setAttribute('src', this.generateURL(id));\n        $iframe.classList.add('video__media');\n        return $iframe;\n    }\n\n    this.generateURL = (id) => {\n        let query = '?rel=0&showinfo=0&autoplay=1';\n        return 'https://www.youtube.com/embed/' + id + query;\n    }\n}\n"]}